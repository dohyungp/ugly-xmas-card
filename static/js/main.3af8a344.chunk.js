(this["webpackJsonpugly-xmas-card"]=this["webpackJsonpugly-xmas-card"]||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/green-theme-go-button.0344c421.svg"},33:function(e,t,n){e.exports=n.p+"static/media/yellow-rudolph.0881fec2.svg"},37:function(e,t,n){e.exports=n.p+"static/media/start-background.559e6bc3.png"},38:function(e,t,n){e.exports=n.p+"static/media/left-cat-tv.b595269b.png"},39:function(e,t,n){e.exports=n.p+"static/media/right-cat-tv.5820e9b9.png"},40:function(e,t,n){e.exports=n.p+"static/media/red-banner.3c85edfa.svg"},41:function(e,t,n){e.exports=n.p+"static/media/christmas-ribon.82be94e7.svg"},42:function(e,t,n){e.exports=n.p+"static/media/create-background.ee511fba.png"},43:function(e,t,n){e.exports=n.p+"static/media/cake-button.6d50bd03.svg"},44:function(e,t,n){e.exports=n.p+"static/media/cat-face-button.8f6ad322.svg"},50:function(e,t,n){e.exports=n.p+"static/media/yellow-theme-go-button.c4d7a26a.svg"},51:function(e,t,n){e.exports=n.p+"static/media/black-theme-go-button.c45f0e78.svg"},52:function(e,t,n){e.exports=n.p+"static/media/blue-rudolph.97f9fdbe.svg"},53:function(e,t,n){e.exports=n.p+"static/media/lgreen-angola.f968172c.svg"},54:function(e,t,n){e.exports=n.p+"static/media/lgreen-rudolph.056d6cd9.svg"},55:function(e,t,n){e.exports=n.p+"static/media/sky-rudolph.ca5e0b3c.svg"},56:function(e,t,n){e.exports=n.p+"static/media/red-angola.a5fc76a8.svg"},57:function(e,t,n){e.exports=n.p+"static/media/sky-angola.80c9c547.svg"},58:function(e,t,n){e.exports=n.p+"static/media/yellow-angola.c96b37e5.svg"},62:function(e,t,n){e.exports=n(89)},67:function(e,t,n){},71:function(e,t,n){},81:function(e,t){},82:function(e,t){},83:function(e,t){},89:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(20),c=n.n(o),i=n(9),u=(n(67),n(4)),l=n(5);function s(){var e=Object(l.a)(["\n  background: ",";\n  color: ",";\n  height: 100vh;\n"]);return s=function(){return e},e}var d=u.b.div(s(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.textColor}));var g=function(){return r.a.useContext(i.a)};function f(){var e=Object(l.a)(["\n  top: 78%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  margin: 0;\n  &:active {\n    top: 78%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.9);\n    position: absolute;\n    margin: 0;\n  }\n"]);return f=function(){return e},e}var m=u.b.img(f()),h=n(37),p=n.n(h);function b(){var e=Object(l.a)(["\n  background-image: url(",");\n  background-position: center top;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 95vh;\n  width: 100%;\n"]);return b=function(){return e},e}var v=u.b.div(b(),p.a),w=n(38),x=n.n(w),y=n(39),O=n.n(y);function j(){var e=Object(l.a)(["\n  background-image: url(","), url(",");\n  width: 60%;\n  max-width: 230px;\n  height: 64px;\n  position: absolute;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center left, center right;\n  transform: translate(-50%, -50%);\n  top: 90%;\n  left: 50%;\n"]);return j=function(){return e},e}var k=u.b.div(j(),x.a,O.a);var C=function(e){var t=e.history,n=function(){var e=g().rootStore.colorStore;return Object(i.c)((function(){return{goButtonSVG:e.getGoButtonSVG}}))}().goButtonSVG;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{src:n,alt:"GO",onClick:function(){t.push("/create")}}),r.a.createElement(k,null),r.a.createElement(v,null))},E=n(45),S=n(13),I=n(59),G=n(40),B=n.n(G),T=n(41),V=n.n(T),z=n(42),F=n.n(z);function D(){var e=Object(l.a)(["\n  background-image: url(",");\n  background-position: center bottom;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 50vh;\n  width: 100%;\n"]);return D=function(){return e},e}var R=u.b.div(D(),F.a);function W(){var e=Object(l.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: 38px;\n  font-size: 18px;\n  font-weight: bold;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  color: #ffffff;\n"]);return W=function(){return e},e}function H(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  text-algin: center;\n"]);return H=function(){return e},e}function L(){var e=Object(l.a)(["\n  height: 0px;\n"]);return L=function(){return e},e}function P(){var e=Object(l.a)(["\n  width: 80%;\n  height: 126px;\n  margin-top: -38px;\n"]);return P=function(){return e},e}function J(){var e=Object(l.a)(["\n  width: 100%;\n  height: 52px;\n"]);return J=function(){return e},e}var U=u.b.img(J()),A=u.b.img(P()),M=u.b.div(L()),N=u.b.div(H()),$=u.b.div(W());var q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null,r.a.createElement(U,{src:B.a,alt:"banner"}),r.a.createElement(N,null,r.a.createElement(A,{src:V.a,alt:"ribon"}),r.a.createElement($,null,"Happy Holidays!"))),r.a.createElement(R,null))},K=n(43),Q=n.n(K),X=n(44),Y=n.n(X);function Z(){var e=Object(l.a)(["\n  position: relative;\n  left: 44%;\n  margin-top: -10px;\n  margin-left: 92px;\n"]);return Z=function(){return e},e}var _=u.b.img(Z());function ee(){var e=Object(l.a)(["\n  display: none;\n"]);return ee=function(){return e},e}var te=u.b.input(ee());n(71);function ne(){var e=Object(l.a)(["\n  position: absolute;\n  margin-top: 30px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return ne=function(){return e},e}var ae=u.b.img(ne());function re(){var e=Object(l.a)(["\n  position: absolute;\n  margin-top: -110px;\n  text-align: center;\n  justify-content: center;\n  transform: translate(-50%, -50%);\n  max-width: 128px;\n  max-height: 144px;\n  left: 50%;\n  top: 56%;\n"]);return re=function(){return e},e}var oe=u.b.img(re());var ce=function(){var e=g().rootStore.colorStore,t=function(){var e=g().rootStore.colorStore;return Object(i.c)((function(){return{sweaterSVG:e.getSweaterSVG,croppedImage:e.croppedImage}}))}(),n=t.sweaterSVG,o=t.croppedImage,c=Object(a.useState)(!1),u=Object(I.a)(c,2),l=u[0],s=u[1],d=Object(a.useRef)(null);return r.a.createElement("div",null,r.a.createElement(te,{type:"file",accept:"image/*",ref:d,capture:!0,style:{display:"none"},onChange:function(t){if(t.target.files&&t.target.files[0]){var n=new FileReader;n.onload=function(t){var n=new Image,a=document.getElementById("canvas"),r=a.getContext("2d");n.onload=function(){a.height=a.width*(n.height/n.width);var t=document.createElement("canvas"),o=t.getContext("2d");t.width=.5*n.width,t.height=.5*n.height,o.drawImage(n,0,0,t.width,t.height),o.drawImage(t,0,0,.5*t.width,.5*t.height),r.drawImage(t,0,0,.5*t.width,.5*t.height,0,0,a.width,a.height),n.src=a.toDataURL(),e.uploadImage(n,n.height,n.width),e.getFaceDescription()},n.src=t.target.result},n.readAsDataURL(t.target.files[0])}}}),r.a.createElement(q,null),r.a.createElement("div",null,r.a.createElement(ae,{src:n,onClick:function(){e.updateSweaterCode()}}),r.a.createElement(oe,{src:o||Y.a,onClick:function(){d.current.click()}}),r.a.createElement(_,{className:l?"cake":"",src:Q.a,alt:"cake",onClick:function(){e.updateThemeCode(),s(!0)},onAnimationEnd:function(){s(!1)}})))};var ie=function(){var e=function(){var e=g().rootStore.colorStore;return Object(i.c)((function(){return{colorTheme:e.getTheme}}))}().colorTheme;return r.a.createElement(u.a,{theme:e},r.a.createElement(d,null,r.a.createElement(E.a,null,r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",component:C}),r.a.createElement(S.a,{exact:!0,path:"/create",component:ce})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=n(22),le=n(16),se=n(48),de=n(11),ge=(n(73),n(3)),fe=3,me=8,he=n(24),pe=n(21),be=n.n(pe),ve=n(14),we=n(49);function xe(e,t){return Math.floor(Math.random()*(t-e+1))+e}function ye(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height);var a=t.landmarks?[].concat(Object(he.a)(t.landmarks.getJawOutline()),Object(he.a)(t.landmarks.getLeftEyeBrow()),Object(he.a)(t.landmarks.getRightEyeBrow())):[];if(0!==a.length){var r=1e4,o=1e4,c=-1e4,i=-1e4;a.forEach((function(e){e.x<r&&(r=e.x),e.y<o&&(o=e.y),e.x>c&&(c=e.x),e.y>i&&(i=e.y)}));var u=c-r,l=i-o,s=n.getContext("2d");s.save(),s.clearRect(0,0,n.width,n.height),s.lineWidth=4,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=we(t,300,[".x",".y"]);if(e.beginPath(),a.slice(1).forEach((function(t){var n=t.x,a=t.y;e.lineTo(n,a)})),n){var r=a[a.length-1],o=a[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.closePath(),e.stroke(),e.clip()}(s,a),s.drawImage(e,0,0),s.restore();var d=document.createElement("canvas"),g=d.getContext("2d");return d.width=u,d.height=l,g.drawImage(n,r,o,u,l,0,0,u,l),d.toDataURL()}}var Oe,je,ke,Ce,Ee,Se,Ie,Ge={colors:{background:"#184f33",buttonBackground:"#33f500",textColor:"#ECEFF4",buttonColor:"#1508fd"}},Be={colors:{background:"#1a1a1a",cardBackground:"#E5E9F0",buttonBackground:"#f50039",textColor:"#ffffff",buttonColor:"#ffffff"}},Te={colors:{background:"#78025d",cardBackground:"#E5E9F0",buttonBackground:"#f5d201",textColor:"#030363",buttonColor:"#030363"}},Ve=n(32),ze=n.n(Ve),Fe=n(50),De=n.n(Fe),Re=n(51),We=n.n(Re),He=n(52),Le=n.n(He),Pe=n(53),Je=n.n(Pe),Ue=n(54),Ae=n.n(Ue),Me=n(33),Ne=n.n(Me),$e=n(55),qe=n.n($e),Ke=n(56),Qe=n.n(Ke),Xe=n(57),Ye=n.n(Xe),Ze=n(58),_e=n.n(Ze),et=(Oe=function(){function e(t){var n=this;if(Object(ue.a)(this,e),Object(le.a)(this,"themeCode",je,this),Object(le.a)(this,"sweaterCode",ke,this),Object(le.a)(this,"uploadedImage",Ce,this),Object(le.a)(this,"croppedImage",Ee,this),Object(le.a)(this,"imgHeight",Se,this),Object(le.a)(this,"imgWidth",Ie,this),this.updateSweaterCode=Object(ge.d)((function(){n.sweaterCode=(n.sweaterCode+1)%me,localStorage.removeItem("sweaterCode"),localStorage.setItem("sweaterCode",n.sweaterCode)})),this.updateThemeCode=Object(ge.d)((function(){n.themeCode=(n.themeCode+1)%fe,localStorage.removeItem("themeCode"),localStorage.setItem("themeCode",n.themeCode)})),this.uploadImage=Object(ge.d)((function(e,t,a){n.uploadedImage=e,n.imgHeight=t,n.imgWidth=a})),this.getFaceDescription=Object(ge.d)((function(){(function(e,t){var n,a,r,o,c,i,u=arguments;return be.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:512,.3,a=new ve.a({inputSize:n,scoreThreshold:.3}),r=!0,l.next=6,be.a.awrap(ve.c(e));case 6:return o=l.sent,l.next=9,be.a.awrap(ve.b(o,a).withFaceLandmarks(r));case 9:if(l.t0=l.sent,l.t0){l.next=12;break}l.t0={};case 12:return c=l.t0,i=ve.f(c,t),l.abrupt("return",i);case 15:case"end":return l.stop()}}))})(n.uploadedImage.src,{width:n.imgWidth,height:n.imgHeight}).then((function(e){n.croppedImage=ye(n.uploadedImage,e)}))})),this.rootStore=t,be.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:ve.e("/ugly-xmas-card/models").then((function(){console.log("Completed loading Face model")})),ve.d("/ugly-xmas-card/models").then((function(){console.log("Completed loading Landmark model")}));case 3:case"end":return e.stop()}})),!(this.themeCode+1)){var a=xe(0,fe-1);this.themeCode=a,localStorage.setItem("themeCode",a)}if(!(this.sweaterCode+1)){var r=xe(0,me-1);this.sweaterCode=r,localStorage.setItem("sweaterCode",r)}}return Object(se.a)(e,[{key:"getTheme",get:function(){switch(this.themeCode){case 0:return Ge;case 1:return Te;case 2:return Be;default:return Ge}}},{key:"getGoButtonSVG",get:function(){switch(this.themeCode){case 0:return ze.a;case 1:return De.a;case 2:return We.a;default:return ze.a}}},{key:"getSweaterSVG",get:function(){switch(this.sweaterCode){case 0:return Ne.a;case 1:return Le.a;case 2:return qe.a;case 3:return Ye.a;case 4:return Ae.a;case 5:return _e.a;case 6:return Qe.a;case 7:return Je.a;default:return Ne.a}}}]),e}(),je=Object(de.a)(Oe.prototype,"themeCode",[ge.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("themeCode"))}}),ke=Object(de.a)(Oe.prototype,"sweaterCode",[ge.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("sweaterCode"))}}),Ce=Object(de.a)(Oe.prototype,"uploadedImage",[ge.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=Object(de.a)(Oe.prototype,"croppedImage",[ge.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Object(de.a)(Oe.prototype,"imgHeight",[ge.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ie=Object(de.a)(Oe.prototype,"imgWidth",[ge.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(de.a)(Oe.prototype,"getTheme",[ge.e],Object.getOwnPropertyDescriptor(Oe.prototype,"getTheme"),Oe.prototype),Object(de.a)(Oe.prototype,"getGoButtonSVG",[ge.e],Object.getOwnPropertyDescriptor(Oe.prototype,"getGoButtonSVG"),Oe.prototype),Object(de.a)(Oe.prototype,"getSweaterSVG",[ge.e],Object.getOwnPropertyDescriptor(Oe.prototype,"getSweaterSVG"),Oe.prototype),Oe),tt=new function e(){Object(ue.a)(this,e),this.colorStore=new et(this)};c.a.render(r.a.createElement(i.b,{rootStore:tt},r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,1,2]]]);
//# sourceMappingURL=main.3af8a344.chunk.js.map