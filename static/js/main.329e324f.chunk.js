(this["webpackJsonpugly-xmas-card"]=this["webpackJsonpugly-xmas-card"]||[]).push([[0],{114:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),o=n(24),i=n.n(o),c=n(13),u=(n(82),n(4)),s=n(6);function l(){var t=Object(s.a)(["\n  background: ",";\n  color: ",";\n  height: 100vh;\n"]);return l=function(){return t},t}var g=u.b.div(l(),(function(t){return t.theme.colors.background}),(function(t){return t.theme.colors.textColor}));var p=function(){return r.a.useContext(c.a)};function d(){var t=Object(s.a)(["\n  top: 78%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  margin: 0;\n  &:active {\n    top: 78%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.9);\n    position: absolute;\n    margin: 0;\n  }\n"]);return d=function(){return t},t}var f=u.b.img(d()),m=n(44),h=n.n(m);function b(){var t=Object(s.a)(["\n  background-image: url(",");\n  background-position: center top;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 95vh;\n  width: 100%;\n"]);return b=function(){return t},t}var x=u.b.div(b(),h.a),v=n(45),w=n.n(v),y=n(46),O=n.n(y);function j(){var t=Object(s.a)(["\n  background-image: url(","), url(",");\n  width: 60%;\n  max-width: 230px;\n  height: 64px;\n  position: absolute;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center left, center right;\n  transform: translate(-50%, -50%);\n  top: 90%;\n  left: 50%;\n"]);return j=function(){return t},t}var k=u.b.div(j(),w.a,O.a);var C=function(t){var e=t.history,n=function(){var t=p().rootStore.colorStore;return Object(c.c)((function(){return{goButtonSVG:t.getGoButtonSVG}}))}().goButtonSVG;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{src:n,alt:"GO",onClick:function(){e.push("/create")}}),r.a.createElement(k,null),r.a.createElement(x,null))},S=n(62),E=n(16),I=n(39),B=n(47),G=n.n(B),z=n(48),F=n.n(z),T=n(49),V=n.n(T);function D(){var t=Object(s.a)(["\n  background-image: url(",");\n  background-position: center bottom;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 50vh;\n  width: 100%;\n"]);return D=function(){return t},t}var L=u.b.div(D(),V.a);function R(){var t=Object(s.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: 38px;\n  font-size: 18px;\n  font-weight: bold;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  color: #ffffff;\n"]);return R=function(){return t},t}function H(){var t=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  text-algin: center;\n"]);return H=function(){return t},t}function A(){var t=Object(s.a)(["\n  height: 0px;\n"]);return A=function(){return t},t}function W(){var t=Object(s.a)(["\n  width: 80%;\n  height: 126px;\n  margin-top: -38px;\n"]);return W=function(){return t},t}function P(){var t=Object(s.a)(["\n  width: 100%;\n  height: 52px;\n"]);return P=function(){return t},t}var U=u.b.img(P()),M=u.b.img(W()),q=u.b.div(A()),J=u.b.div(H()),K=u.b.div(R());var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null,r.a.createElement(U,{src:G.a,alt:"banner"}),r.a.createElement(J,null,r.a.createElement(M,{src:F.a,alt:"ribon"}),r.a.createElement(K,null,"Happy Holidays!"))),r.a.createElement(L,null))};function Y(){var t=Object(s.a)(["\n  position: relative;\n"]);return Y=function(){return t},t}var Q=u.b.div(Y()),$=n(50),_=n.n($),X=n(51),Z=n.n(X);function tt(){var t=Object(s.a)(["\n  position: relative;\n  left: 44%;\n  margin-top: -10px;\n  margin-left: 92px;\n"]);return tt=function(){return t},t}var et=u.b.img(tt());function nt(){var t=Object(s.a)(["\n  display: none;\n"]);return nt=function(){return t},t}var at=u.b.input(nt()),rt=(n(86),n(52)),ot=n.n(rt),it=n(53),ct=n.n(it),ut=n(54),st=n.n(ut),lt=n(55),gt=n.n(lt);function pt(){var t=Object(s.a)(["\n  position: absolute;\n  margin-top: 30px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return pt=function(){return t},t}var dt=u.b.img(pt());function ft(){var t=Object(s.a)(["\n  position: absolute;\n  margin-top: -110px;\n  text-align: center;\n  justify-content: center;\n  transform: translate(-50%, -50%);\n  max-width: 128px;\n  max-height: 144px;\n  left: 50%;\n  top: 65%;\n"]);return ft=function(){return t},t}var mt=u.b.img(ft()),ht=n(56),bt=n.n(ht);function xt(){var t=Object(s.a)(["\n  position: absolute;\n  left: 20%;\n"]);return xt=function(){return t},t}var vt=u.b.img(xt());function wt(){var t=Object(s.a)(["\n  position: absolute;\n  right: 15%;\n  bottom: 88%;\n"]);return wt=function(){return t},t}var yt=u.b.img(wt());function Ot(){var t=Object(s.a)(["\n  position: absolute;\n  margin-top: -110px;\n  text-align: center;\n  justify-content: center;\n  transform: translate(-50%, -50%) rotate(-2deg);\n  left: 50%;\n  top: -83%;\n"]);return Ot=function(){return t},t}var jt=u.b.img(Ot());function kt(){var t=Object(s.a)(['\n  background-attachment: local;\n  letter-spacing: 3px;\n  line-height: 30px;\n  font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n  color: white;\n  background-color: ',";\n  background-image: linear-gradient(\n      to right,\n      transparent 10px,\n      transparent 10px\n    ),\n    linear-gradient(to left, transparent 10px, transparent 10px),\n    repeating-linear-gradient(\n      transparent,\n      transparent 30px,\n      white 30px,\n      white 31px,\n      transparent 31px\n    );\n  width: 80%;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  min-height: 130px;\n  padding: 8px 10px;\n  margin-top: 110px;\n  position: absolute;\n  outline: none;\n  border: none;\n  resize: none;\n"]);return kt=function(){return t},t}var Ct=u.b.textarea(kt(),(function(t){return t.theme.colors.background}));function St(){var t=Object(s.a)(["\n  position: relative;\n"]);return St=function(){return t},t}var Et=u.b.div(St());function It(){var t=Object(s.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  &:active {\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.9);\n  }\n"]);return It=function(){return t},t}var Bt=u.b.img(It()),Gt=n(57),zt=n.n(Gt),Ft=n(29),Tt=n(25),Vt=n.n(Tt),Dt=n(17),Lt=n(58),Rt=n(59),Ht=n.n(Rt);n(111);function At(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Wt(t,e){var n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0,t.width,t.height);var a=e.landmarks?[].concat(Object(Ft.a)(e.landmarks.getJawOutline()),Object(Ft.a)(e.landmarks.getLeftEyeBrow()),Object(Ft.a)(e.landmarks.getRightEyeBrow())):[];if(0!==a.length){var r=1e4,o=1e4,i=-1e4,c=-1e4;a.forEach((function(t){t.x<r&&(r=t.x),t.y<o&&(o=t.y),t.x>i&&(i=t.x),t.y>c&&(c=t.y)}));var u=i-r,s=c-o,l=n.getContext("2d");l.save(),l.clearRect(0,0,n.width,n.height),l.lineWidth=4,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Lt(e,300,[".x",".y"]);if(t.beginPath(),a.slice(1).forEach((function(e){var n=e.x,a=e.y;t.lineTo(n,a)})),n){var r=a[a.length-1],o=a[0];if(!r||!o)return;t.moveTo(r.x,r.y),t.lineTo(o.x,o.y)}t.closePath(),t.stroke(),t.clip()}(l,a),l.drawImage(t,0,0),l.restore();var g=document.createElement("canvas"),p=g.getContext("2d");return g.width=u,g.height=s,p.drawImage(n,r,o,u,s,0,0,u,s),g.toDataURL()}}function Pt(t){return Ht.a.storage().ref().child("".concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),".png")).put(t)}var Ut=function(){var t=p().rootStore.colorStore,e=function(){var t=p().rootStore.colorStore;return Object(c.c)((function(){return{sweaterSVG:t.getSweaterSVG,croppedImage:t.croppedImage}}))}(),n=e.sweaterSVG,o=e.croppedImage,i=Object(a.useState)(!1),u=Object(I.a)(i,2),s=u[0],l=u[1],g=Object(a.useState)(""),d=Object(I.a)(g,2),f=d[0],m=d[1],h=Object(a.useRef)(null);return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(at,{type:"file",accept:"image/*",ref:h,onChange:function(e){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.onload=function(){t.uploadImage(n,n.height,n.width),t.getFaceDescription()},n.src=e.target.result},new bt.a(e.target.files[0],{quality:.3,success:function(t){n.readAsDataURL(t)}})}}}),r.a.createElement(N,null),r.a.createElement(Q,null,r.a.createElement(dt,{src:n,onClick:function(){t.updateSweaterCode()}}),r.a.createElement(mt,{src:o||Z.a,onClick:function(){h.current.click()}}),r.a.createElement(et,{className:s?"cake":"",src:_.a,alt:"cake",onClick:function(){t.updateThemeCode(),l(!0)},onAnimationEnd:function(){l(!1)}}),r.a.createElement(vt,{src:ct.a}),r.a.createElement(yt,{src:gt.a}),o?r.a.createElement(jt,{src:st.a}):""),r.a.createElement(Et,null,r.a.createElement(Ct,{placeholder:"Please type ...",value:f,onChange:function(t){m(t.target.value)}})),r.a.createElement(Bt,{src:ot.a,onClick:function(){var t=document.body;zt.a.toBlob(t).then((function(t){Pt(t).then((function(t){t.ref.getDownloadURL().then((function(t){console.log(t),function(t){navigator.share&&navigator.share({title:"Let's share your holiday card!",text:"\n          holiday card! Link: ".concat(t,"\n          \n          ").concat(f),url:"https://dohyungp.github.io/ugly-xmas-card"}).then((function(){return console.log("Successful share")})).catch((function(t){return console.log("Error sharing",t)}))}(t)}))}))})).catch((function(t){console.error("oops, something went wrong!",t)}))}}))},Mt={apiKey:"AIzaSyAgHkT_bYhDYuESKq04Qhctr1cAqzl1s2A",authDomain:"ugly-xmas-card.firebaseapp.com",databaseURL:"https://ugly-xmas-card.firebaseio.com",projectId:"ugly-xmas-card",storageBucket:"ugly-xmas-card.appspot.com",messagingSenderId:"1012987594712",appId:"1:1012987594712:web:b2ad2f02d970faba8e14ad"};n(61).initializeApp(Mt);var qt=function(){var t=function(){var t=p().rootStore.colorStore;return Object(c.c)((function(){return{colorTheme:t.getTheme}}))}().colorTheme;return r.a.createElement(u.a,{theme:t},r.a.createElement(g,null,r.a.createElement(S.a,null,r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:C}),r.a.createElement(E.a,{exact:!0,path:"/create",component:Ut})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Jt,Kt,Nt,Yt,Qt,$t,_t,Xt=n(28),Zt=n(20),te=n(65),ee=n(15),ne=(n(113),n(5)),ae=3,re=8,oe={colors:{background:"#184f33",buttonBackground:"#33f500",textColor:"#ECEFF4",buttonColor:"#1508fd"}},ie={colors:{background:"#1a1a1a",cardBackground:"#E5E9F0",buttonBackground:"#f50039",textColor:"#ffffff",buttonColor:"#ffffff"}},ce={colors:{background:"#78025d",cardBackground:"#E5E9F0",buttonBackground:"#f5d201",textColor:"#030363",buttonColor:"#030363"}},ue=n(37),se=n.n(ue),le=n(66),ge=n.n(le),pe=n(67),de=n.n(pe),fe=n(68),me=n.n(fe),he=n(69),be=n.n(he),xe=n(70),ve=n.n(xe),we=n(38),ye=n.n(we),Oe=n(71),je=n.n(Oe),ke=n(72),Ce=n.n(ke),Se=n(73),Ee=n.n(Se),Ie=n(74),Be=n.n(Ie),Ge=(Jt=function(){function t(e){var n=this;if(Object(Xt.a)(this,t),Object(Zt.a)(this,"themeCode",Kt,this),Object(Zt.a)(this,"sweaterCode",Nt,this),Object(Zt.a)(this,"uploadedImage",Yt,this),Object(Zt.a)(this,"croppedImage",Qt,this),Object(Zt.a)(this,"imgHeight",$t,this),Object(Zt.a)(this,"imgWidth",_t,this),this.updateSweaterCode=Object(ne.d)((function(){n.sweaterCode=(n.sweaterCode+1)%re,localStorage.removeItem("sweaterCode"),localStorage.setItem("sweaterCode",n.sweaterCode)})),this.updateThemeCode=Object(ne.d)((function(){n.themeCode=(n.themeCode+1)%ae,localStorage.removeItem("themeCode"),localStorage.setItem("themeCode",n.themeCode)})),this.uploadImage=Object(ne.d)((function(t,e,a){n.uploadedImage=t,n.imgHeight=e,n.imgWidth=a})),this.getFaceDescription=Object(ne.d)((function(){(function(t,e){var n,a,r,o,i,c,u=arguments;return Vt.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:512,.3,a=new Dt.a({inputSize:n,scoreThreshold:.3}),r=!0,s.next=6,Vt.a.awrap(Dt.c(t));case 6:return o=s.sent,s.next=9,Vt.a.awrap(Dt.b(o,a).withFaceLandmarks(r));case 9:if(s.t0=s.sent,s.t0){s.next=12;break}s.t0={};case 12:return i=s.t0,c=Dt.f(i,e),s.abrupt("return",c);case 15:case"end":return s.stop()}}))})(n.uploadedImage.src,{width:n.imgWidth,height:n.imgHeight}).then((function(t){n.croppedImage=Wt(n.uploadedImage,t)}))})),this.rootStore=e,Vt.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:Dt.e("/ugly-xmas-card/models").then((function(){console.log("Completed loading Face model")})),Dt.d("/ugly-xmas-card/models").then((function(){console.log("Completed loading Landmark model")}));case 3:case"end":return t.stop()}})),!(this.themeCode+1)){var a=At(0,ae-1);this.themeCode=a,localStorage.setItem("themeCode",a)}if(!(this.sweaterCode+1)){var r=At(0,re-1);this.sweaterCode=r,localStorage.setItem("sweaterCode",r)}}return Object(te.a)(t,[{key:"getTheme",get:function(){switch(this.themeCode){case 0:return oe;case 1:return ce;case 2:return ie;default:return oe}}},{key:"getGoButtonSVG",get:function(){switch(this.themeCode){case 0:return se.a;case 1:return ge.a;case 2:return de.a;default:return se.a}}},{key:"getSweaterSVG",get:function(){switch(this.sweaterCode){case 0:return ye.a;case 1:return me.a;case 2:return je.a;case 3:return Ee.a;case 4:return ve.a;case 5:return Be.a;case 6:return Ce.a;case 7:return be.a;default:return ye.a}}}]),t}(),Kt=Object(ee.a)(Jt.prototype,"themeCode",[ne.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("themeCode"))}}),Nt=Object(ee.a)(Jt.prototype,"sweaterCode",[ne.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("sweaterCode"))}}),Yt=Object(ee.a)(Jt.prototype,"uploadedImage",[ne.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=Object(ee.a)(Jt.prototype,"croppedImage",[ne.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=Object(ee.a)(Jt.prototype,"imgHeight",[ne.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_t=Object(ee.a)(Jt.prototype,"imgWidth",[ne.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(ee.a)(Jt.prototype,"getTheme",[ne.e],Object.getOwnPropertyDescriptor(Jt.prototype,"getTheme"),Jt.prototype),Object(ee.a)(Jt.prototype,"getGoButtonSVG",[ne.e],Object.getOwnPropertyDescriptor(Jt.prototype,"getGoButtonSVG"),Jt.prototype),Object(ee.a)(Jt.prototype,"getSweaterSVG",[ne.e],Object.getOwnPropertyDescriptor(Jt.prototype,"getSweaterSVG"),Jt.prototype),Jt),ze=new function t(){Object(Xt.a)(this,t),this.colorStore=new Ge(this)};i.a.render(r.a.createElement(c.b,{rootStore:ze},r.a.createElement(qt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},37:function(t,e,n){t.exports=n.p+"static/media/green-theme-go-button.0344c421.svg"},38:function(t,e,n){t.exports=n.p+"static/media/yellow-rudolph.0881fec2.svg"},44:function(t,e,n){t.exports=n.p+"static/media/start-background.559e6bc3.png"},45:function(t,e,n){t.exports=n.p+"static/media/left-cat-tv.b595269b.png"},46:function(t,e,n){t.exports=n.p+"static/media/right-cat-tv.5820e9b9.png"},47:function(t,e,n){t.exports=n.p+"static/media/red-banner.3c85edfa.svg"},48:function(t,e,n){t.exports=n.p+"static/media/christmas-ribon.82be94e7.svg"},49:function(t,e,n){t.exports=n.p+"static/media/create-background.ee511fba.png"},50:function(t,e,n){t.exports=n.p+"static/media/cake-button.6d50bd03.svg"},51:function(t,e,n){t.exports=n.p+"static/media/cat-face-button.8f6ad322.svg"},52:function(t,e,n){t.exports=n.p+"static/media/share.3ee0254c.svg"},53:function(t,e,n){t.exports=n.p+"static/media/tap-arrow-left.18c67c34.svg"},54:function(t,e,n){t.exports=n.p+"static/media/santa-hat.d33962d3.svg"},55:function(t,e,n){t.exports=n.p+"static/media/tap-arrow-right.3e1a03c5.svg"},66:function(t,e,n){t.exports=n.p+"static/media/yellow-theme-go-button.c4d7a26a.svg"},67:function(t,e,n){t.exports=n.p+"static/media/black-theme-go-button.c45f0e78.svg"},68:function(t,e,n){t.exports=n.p+"static/media/blue-rudolph.97f9fdbe.svg"},69:function(t,e,n){t.exports=n.p+"static/media/lgreen-angola.f968172c.svg"},70:function(t,e,n){t.exports=n.p+"static/media/lgreen-rudolph.056d6cd9.svg"},71:function(t,e,n){t.exports=n.p+"static/media/sky-rudolph.ca5e0b3c.svg"},72:function(t,e,n){t.exports=n.p+"static/media/red-angola.a5fc76a8.svg"},73:function(t,e,n){t.exports=n.p+"static/media/sky-angola.80c9c547.svg"},74:function(t,e,n){t.exports=n.p+"static/media/yellow-angola.c96b37e5.svg"},77:function(t,e,n){t.exports=n(114)},82:function(t,e,n){},86:function(t,e,n){},94:function(t,e){},95:function(t,e){},96:function(t,e){}},[[77,1,2]]]);
//# sourceMappingURL=main.329e324f.chunk.js.map