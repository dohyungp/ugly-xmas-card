(this["webpackJsonpugly-xmas-card"]=this["webpackJsonpugly-xmas-card"]||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/green-theme-go-button.0344c421.svg"},33:function(e,t,n){e.exports=n.p+"static/media/yellow-rudolph.0881fec2.svg"},37:function(e,t,n){e.exports=n.p+"static/media/start-background.559e6bc3.png"},38:function(e,t,n){e.exports=n.p+"static/media/left-cat-tv.b595269b.png"},39:function(e,t,n){e.exports=n.p+"static/media/right-cat-tv.5820e9b9.png"},40:function(e,t,n){e.exports=n.p+"static/media/red-banner.3c85edfa.svg"},41:function(e,t,n){e.exports=n.p+"static/media/christmas-ribon.82be94e7.svg"},42:function(e,t,n){e.exports=n.p+"static/media/create-background.ee511fba.png"},43:function(e,t,n){e.exports=n.p+"static/media/cake-button.6d50bd03.svg"},44:function(e,t,n){e.exports=n.p+"static/media/cat-face-button.8f6ad322.svg"},51:function(e,t,n){e.exports=n.p+"static/media/yellow-theme-go-button.c4d7a26a.svg"},52:function(e,t,n){e.exports=n.p+"static/media/black-theme-go-button.c45f0e78.svg"},53:function(e,t,n){e.exports=n.p+"static/media/blue-rudolph.97f9fdbe.svg"},54:function(e,t,n){e.exports=n.p+"static/media/lgreen-angola.f968172c.svg"},55:function(e,t,n){e.exports=n.p+"static/media/lgreen-rudolph.056d6cd9.svg"},56:function(e,t,n){e.exports=n.p+"static/media/sky-rudolph.ca5e0b3c.svg"},57:function(e,t,n){e.exports=n.p+"static/media/red-angola.a5fc76a8.svg"},58:function(e,t,n){e.exports=n.p+"static/media/sky-angola.80c9c547.svg"},59:function(e,t,n){e.exports=n.p+"static/media/yellow-angola.c96b37e5.svg"},63:function(e,t,n){e.exports=n(90)},68:function(e,t,n){},72:function(e,t,n){},82:function(e,t){},83:function(e,t){},84:function(e,t){},90:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(20),c=n.n(o),i=n(9),u=(n(68),n(4)),l=n(5);function s(){var e=Object(l.a)(["\n  background: ",";\n  color: ",";\n  height: 100vh;\n"]);return s=function(){return e},e}var d=u.b.div(s(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.textColor}));var g=function(){return r.a.useContext(i.a)};function f(){var e=Object(l.a)(["\n  top: 78%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  margin: 0;\n  &:active {\n    top: 78%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.9);\n    position: absolute;\n    margin: 0;\n  }\n"]);return f=function(){return e},e}var m=u.b.img(f()),p=n(37),h=n.n(p);function b(){var e=Object(l.a)(["\n  background-image: url(",");\n  background-position: center top;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 95vh;\n  width: 100%;\n"]);return b=function(){return e},e}var v=u.b.div(b(),h.a),w=n(38),x=n.n(w),y=n(39),O=n.n(y);function j(){var e=Object(l.a)(["\n  background-image: url(","), url(",");\n  width: 60%;\n  max-width: 230px;\n  height: 64px;\n  position: absolute;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center left, center right;\n  transform: translate(-50%, -50%);\n  top: 90%;\n  left: 50%;\n"]);return j=function(){return e},e}var k=u.b.div(j(),x.a,O.a);var C=function(e){var t=e.history,n=function(){var e=g().rootStore.colorStore;return Object(i.c)((function(){return{goButtonSVG:e.getGoButtonSVG}}))}().goButtonSVG;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{src:n,alt:"GO",onClick:function(){t.push("/create")}}),r.a.createElement(k,null),r.a.createElement(v,null))},E=n(46),S=n(13),I=n(60),G=n(40),B=n.n(G),T=n(41),V=n.n(T),z=n(42),F=n.n(z);function D(){var e=Object(l.a)(["\n  background-image: url(",");\n  background-position: center bottom;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 50vh;\n  width: 100%;\n"]);return D=function(){return e},e}var W=u.b.div(D(),F.a);function H(){var e=Object(l.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: 38px;\n  font-size: 18px;\n  font-weight: bold;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  color: #ffffff;\n"]);return H=function(){return e},e}function R(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  text-algin: center;\n"]);return R=function(){return e},e}function L(){var e=Object(l.a)(["\n  height: 0px;\n"]);return L=function(){return e},e}function P(){var e=Object(l.a)(["\n  width: 80%;\n  height: 126px;\n  margin-top: -38px;\n"]);return P=function(){return e},e}function J(){var e=Object(l.a)(["\n  width: 100%;\n  height: 52px;\n"]);return J=function(){return e},e}var A=u.b.img(J()),M=u.b.img(P()),U=u.b.div(L()),q=u.b.div(R()),N=u.b.div(H());var $=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,null,r.a.createElement(A,{src:B.a,alt:"banner"}),r.a.createElement(q,null,r.a.createElement(M,{src:V.a,alt:"ribon"}),r.a.createElement(N,null,"Happy Holidays!"))),r.a.createElement(W,null))},K=n(43),Q=n.n(K),X=n(44),Y=n.n(X);function Z(){var e=Object(l.a)(["\n  position: relative;\n  left: 44%;\n  margin-top: -10px;\n  margin-left: 92px;\n"]);return Z=function(){return e},e}var _=u.b.img(Z());function ee(){var e=Object(l.a)(["\n  display: none;\n"]);return ee=function(){return e},e}var te=u.b.input(ee());n(72);function ne(){var e=Object(l.a)(["\n  position: absolute;\n  margin-top: 30px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return ne=function(){return e},e}var ae=u.b.img(ne());function re(){var e=Object(l.a)(["\n  position: absolute;\n  margin-top: -110px;\n  text-align: center;\n  justify-content: center;\n  transform: translate(-50%, -50%);\n  max-width: 128px;\n  max-height: 144px;\n  left: 50%;\n  top: 56%;\n"]);return re=function(){return e},e}var oe=u.b.img(re()),ce=n(45),ie=n.n(ce);var ue=function(){var e=g().rootStore.colorStore,t=function(){var e=g().rootStore.colorStore;return Object(i.c)((function(){return{sweaterSVG:e.getSweaterSVG,croppedImage:e.croppedImage}}))}(),n=t.sweaterSVG,o=t.croppedImage,c=Object(a.useState)(!1),u=Object(I.a)(c,2),l=u[0],s=u[1],d=Object(a.useRef)(null);return r.a.createElement("div",null,r.a.createElement(te,{type:"file",accept:"image/*",ref:d,onChange:function(t){if(t.target.files&&t.target.files[0]){var n=new FileReader;n.onload=function(t){var n=new Image;n.onload=function(){e.uploadImage(n,n.height,n.width),e.getFaceDescription()},n.src=t.target.result},new ie.a(t.target.files[0],{quality:.3,success:function(e){n.readAsDataURL(e)}})}}}),r.a.createElement($,null),r.a.createElement("div",null,r.a.createElement(ae,{src:n,onClick:function(){e.updateSweaterCode()}}),r.a.createElement(oe,{src:o||Y.a,onClick:function(){d.current.click()}}),r.a.createElement(_,{className:l?"cake":"",src:Q.a,alt:"cake",onClick:function(){e.updateThemeCode(),s(!0)},onAnimationEnd:function(){s(!1)}})))};var le=function(){var e=function(){var e=g().rootStore.colorStore;return Object(i.c)((function(){return{colorTheme:e.getTheme}}))}().colorTheme;return r.a.createElement(u.a,{theme:e},r.a.createElement(d,null,r.a.createElement(E.a,null,r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",component:C}),r.a.createElement(S.a,{exact:!0,path:"/create",component:ue})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=n(22),de=n(16),ge=n(49),fe=n(11),me=(n(74),n(3)),pe=3,he=8,be=n(24),ve=n(21),we=n.n(ve),xe=n(14),ye=n(50);function Oe(e,t){return Math.floor(Math.random()*(t-e+1))+e}function je(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height);var a=t.landmarks?[].concat(Object(be.a)(t.landmarks.getJawOutline()),Object(be.a)(t.landmarks.getLeftEyeBrow()),Object(be.a)(t.landmarks.getRightEyeBrow())):[];if(0!==a.length){var r=1e4,o=1e4,c=-1e4,i=-1e4;a.forEach((function(e){e.x<r&&(r=e.x),e.y<o&&(o=e.y),e.x>c&&(c=e.x),e.y>i&&(i=e.y)}));var u=c-r,l=i-o,s=n.getContext("2d");s.save(),s.clearRect(0,0,n.width,n.height),s.lineWidth=4,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=ye(t,300,[".x",".y"]);if(e.beginPath(),a.slice(1).forEach((function(t){var n=t.x,a=t.y;e.lineTo(n,a)})),n){var r=a[a.length-1],o=a[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.closePath(),e.stroke(),e.clip()}(s,a),s.drawImage(e,0,0),s.restore();var d=document.createElement("canvas"),g=d.getContext("2d");return d.width=u,d.height=l,g.drawImage(n,r,o,u,l,0,0,u,l),d.toDataURL()}}var ke,Ce,Ee,Se,Ie,Ge,Be,Te={colors:{background:"#184f33",buttonBackground:"#33f500",textColor:"#ECEFF4",buttonColor:"#1508fd"}},Ve={colors:{background:"#1a1a1a",cardBackground:"#E5E9F0",buttonBackground:"#f50039",textColor:"#ffffff",buttonColor:"#ffffff"}},ze={colors:{background:"#78025d",cardBackground:"#E5E9F0",buttonBackground:"#f5d201",textColor:"#030363",buttonColor:"#030363"}},Fe=n(32),De=n.n(Fe),We=n(51),He=n.n(We),Re=n(52),Le=n.n(Re),Pe=n(53),Je=n.n(Pe),Ae=n(54),Me=n.n(Ae),Ue=n(55),qe=n.n(Ue),Ne=n(33),$e=n.n(Ne),Ke=n(56),Qe=n.n(Ke),Xe=n(57),Ye=n.n(Xe),Ze=n(58),_e=n.n(Ze),et=n(59),tt=n.n(et),nt=(ke=function(){function e(t){var n=this;if(Object(se.a)(this,e),Object(de.a)(this,"themeCode",Ce,this),Object(de.a)(this,"sweaterCode",Ee,this),Object(de.a)(this,"uploadedImage",Se,this),Object(de.a)(this,"croppedImage",Ie,this),Object(de.a)(this,"imgHeight",Ge,this),Object(de.a)(this,"imgWidth",Be,this),this.updateSweaterCode=Object(me.d)((function(){n.sweaterCode=(n.sweaterCode+1)%he,localStorage.removeItem("sweaterCode"),localStorage.setItem("sweaterCode",n.sweaterCode)})),this.updateThemeCode=Object(me.d)((function(){n.themeCode=(n.themeCode+1)%pe,localStorage.removeItem("themeCode"),localStorage.setItem("themeCode",n.themeCode)})),this.uploadImage=Object(me.d)((function(e,t,a){n.uploadedImage=e,n.imgHeight=t,n.imgWidth=a})),this.getFaceDescription=Object(me.d)((function(){(function(e,t){var n,a,r,o,c,i,u=arguments;return we.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:512,.3,a=new xe.a({inputSize:n,scoreThreshold:.3}),r=!0,l.next=6,we.a.awrap(xe.c(e));case 6:return o=l.sent,l.next=9,we.a.awrap(xe.b(o,a).withFaceLandmarks(r));case 9:if(l.t0=l.sent,l.t0){l.next=12;break}l.t0={};case 12:return c=l.t0,i=xe.f(c,t),l.abrupt("return",i);case 15:case"end":return l.stop()}}))})(n.uploadedImage.src,{width:n.imgWidth,height:n.imgHeight}).then((function(e){n.croppedImage=je(n.uploadedImage,e)}))})),this.rootStore=t,we.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:xe.e("/ugly-xmas-card/models").then((function(){console.log("Completed loading Face model")})),xe.d("/ugly-xmas-card/models").then((function(){console.log("Completed loading Landmark model")}));case 3:case"end":return e.stop()}})),!(this.themeCode+1)){var a=Oe(0,pe-1);this.themeCode=a,localStorage.setItem("themeCode",a)}if(!(this.sweaterCode+1)){var r=Oe(0,he-1);this.sweaterCode=r,localStorage.setItem("sweaterCode",r)}}return Object(ge.a)(e,[{key:"getTheme",get:function(){switch(this.themeCode){case 0:return Te;case 1:return ze;case 2:return Ve;default:return Te}}},{key:"getGoButtonSVG",get:function(){switch(this.themeCode){case 0:return De.a;case 1:return He.a;case 2:return Le.a;default:return De.a}}},{key:"getSweaterSVG",get:function(){switch(this.sweaterCode){case 0:return $e.a;case 1:return Je.a;case 2:return Qe.a;case 3:return _e.a;case 4:return qe.a;case 5:return tt.a;case 6:return Ye.a;case 7:return Me.a;default:return $e.a}}}]),e}(),Ce=Object(fe.a)(ke.prototype,"themeCode",[me.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("themeCode"))}}),Ee=Object(fe.a)(ke.prototype,"sweaterCode",[me.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("sweaterCode"))}}),Se=Object(fe.a)(ke.prototype,"uploadedImage",[me.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=Object(fe.a)(ke.prototype,"croppedImage",[me.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=Object(fe.a)(ke.prototype,"imgHeight",[me.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Be=Object(fe.a)(ke.prototype,"imgWidth",[me.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(fe.a)(ke.prototype,"getTheme",[me.e],Object.getOwnPropertyDescriptor(ke.prototype,"getTheme"),ke.prototype),Object(fe.a)(ke.prototype,"getGoButtonSVG",[me.e],Object.getOwnPropertyDescriptor(ke.prototype,"getGoButtonSVG"),ke.prototype),Object(fe.a)(ke.prototype,"getSweaterSVG",[me.e],Object.getOwnPropertyDescriptor(ke.prototype,"getSweaterSVG"),ke.prototype),ke),at=new function e(){Object(se.a)(this,e),this.colorStore=new nt(this)};c.a.render(r.a.createElement(i.b,{rootStore:at},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.15610c0c.chunk.js.map