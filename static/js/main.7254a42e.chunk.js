(this["webpackJsonpugly-xmas-card"]=this["webpackJsonpugly-xmas-card"]||[]).push([[0],Array(32).concat([function(t,e,n){t.exports=n.p+"static/media/green-theme-go-button.0344c421.svg"},function(t,e,n){t.exports=n.p+"static/media/yellow-rudolph.0881fec2.svg"},,,,,function(t,e,n){t.exports=n.p+"static/media/start-background.559e6bc3.png"},function(t,e,n){t.exports=n.p+"static/media/left-cat-tv.b595269b.png"},function(t,e,n){t.exports=n.p+"static/media/right-cat-tv.5820e9b9.png"},function(t,e,n){t.exports=n.p+"static/media/red-banner.3c85edfa.svg"},function(t,e,n){t.exports=n.p+"static/media/christmas-ribon.82be94e7.svg"},function(t,e,n){t.exports=n.p+"static/media/create-background.ee511fba.png"},function(t,e,n){t.exports=n.p+"static/media/cake-button.6d50bd03.svg"},function(t,e,n){t.exports=n.p+"static/media/cat-face-button.8f6ad322.svg"},function(t,e,n){t.exports=n.p+"static/media/share.3ee0254c.svg"},function(t,e,n){t.exports=n.p+"static/media/tap-arrow-left.18c67c34.svg"},function(t,e,n){t.exports=n.p+"static/media/santa-hat.d33962d3.svg"},function(t,e,n){t.exports=n.p+"static/media/tap-arrow-right.3e1a03c5.svg"},,,,,,,,function(t,e,n){t.exports=n.p+"static/media/yellow-theme-go-button.c4d7a26a.svg"},function(t,e,n){t.exports=n.p+"static/media/black-theme-go-button.c45f0e78.svg"},function(t,e,n){t.exports=n.p+"static/media/blue-rudolph.97f9fdbe.svg"},function(t,e,n){t.exports=n.p+"static/media/lgreen-angola.f968172c.svg"},function(t,e,n){t.exports=n.p+"static/media/lgreen-rudolph.056d6cd9.svg"},function(t,e,n){t.exports=n.p+"static/media/sky-rudolph.ca5e0b3c.svg"},function(t,e,n){t.exports=n.p+"static/media/red-angola.a5fc76a8.svg"},function(t,e,n){t.exports=n.p+"static/media/sky-angola.80c9c547.svg"},function(t,e,n){t.exports=n.p+"static/media/yellow-angola.c96b37e5.svg"},,,function(t,e,n){t.exports=n(95)},,,,,function(t,e,n){},,,,function(t,e,n){},,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},,,,,,function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),o=n(20),i=n.n(o),c=n(9),u=(n(73),n(3)),s=n(5);function l(){var t=Object(s.a)(["\n  background: ",";\n  color: ",";\n  height: 100vh;\n"]);return l=function(){return t},t}var g=u.b.div(l(),(function(t){return t.theme.colors.background}),(function(t){return t.theme.colors.textColor}));var p=function(){return r.a.useContext(c.a)};function f(){var t=Object(s.a)(["\n  top: 78%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  position: absolute;\n  margin: 0;\n  &:active {\n    top: 78%;\n    left: 50%;\n    transform: translate(-50%, -50%) scale(0.9);\n    position: absolute;\n    margin: 0;\n  }\n"]);return f=function(){return t},t}var d=u.b.img(f()),m=n(38),h=n.n(m);function b(){var t=Object(s.a)(["\n  background-image: url(",");\n  background-position: center top;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 95vh;\n  width: 100%;\n"]);return b=function(){return t},t}var v=u.b.div(b(),h.a),x=n(39),w=n.n(x),y=n(40),O=n.n(y);function j(){var t=Object(s.a)(["\n  background-image: url(","), url(",");\n  width: 60%;\n  max-width: 230px;\n  height: 64px;\n  position: absolute;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center left, center right;\n  transform: translate(-50%, -50%);\n  top: 90%;\n  left: 50%;\n"]);return j=function(){return t},t}var k=u.b.div(j(),w.a,O.a);var C=function(t){var e=t.history,n=function(){var t=p().rootStore.colorStore;return Object(c.c)((function(){return{goButtonSVG:t.getGoButtonSVG}}))}().goButtonSVG;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{src:n,alt:"GO",onClick:function(){e.push("/create")}}),r.a.createElement(k,null),r.a.createElement(v,null))},E=n(52),S=n(13),I=n(34),B=n(41),G=n.n(B),F=n(42),T=n.n(F),z=n(43),V=n.n(z);function D(){var t=Object(s.a)(["\n  background-image: url(",");\n  background-position: center bottom;\n  background-repeat: no-repeat;\n  background-size: contain;\n  height: 50vh;\n  width: 100%;\n"]);return D=function(){return t},t}var H=u.b.div(D(),V.a);function R(){var t=Object(s.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin-top: 38px;\n  font-size: 18px;\n  font-weight: bold;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: center;\n  color: #ffffff;\n"]);return R=function(){return t},t}function W(){var t=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  text-algin: center;\n"]);return W=function(){return t},t}function L(){var t=Object(s.a)(["\n  height: 0px;\n"]);return L=function(){return t},t}function P(){var t=Object(s.a)(["\n  width: 80%;\n  height: 126px;\n  margin-top: -38px;\n"]);return P=function(){return t},t}function U(){var t=Object(s.a)(["\n  width: 100%;\n  height: 52px;\n"]);return U=function(){return t},t}var A=u.b.img(U()),J=u.b.img(P()),M=u.b.div(L()),N=u.b.div(W()),q=u.b.div(R());var $=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null,r.a.createElement(A,{src:G.a,alt:"banner"}),r.a.createElement(N,null,r.a.createElement(J,{src:T.a,alt:"ribon"}),r.a.createElement(q,null,"Happy Holidays!"))),r.a.createElement(H,null))};function K(){var t=Object(s.a)(["\n  position: relative;\n"]);return K=function(){return t},t}var Q=u.b.div(K()),X=n(44),Y=n.n(X),Z=n(45),_=n.n(Z);function tt(){var t=Object(s.a)(["\n  position: relative;\n  left: 44%;\n  margin-top: -10px;\n  margin-left: 92px;\n"]);return tt=function(){return t},t}var et=u.b.img(tt());function nt(){var t=Object(s.a)(["\n  display: none;\n"]);return nt=function(){return t},t}var at=u.b.input(nt()),rt=(n(77),n(46)),ot=n.n(rt),it=n(47),ct=n.n(it),ut=n(48),st=n.n(ut),lt=n(49),gt=n.n(lt);function pt(){var t=Object(s.a)(["\n  position: absolute;\n  margin-top: 30px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]);return pt=function(){return t},t}var ft=u.b.img(pt());function dt(){var t=Object(s.a)(["\n  position: absolute;\n  margin-top: -110px;\n  text-align: center;\n  justify-content: center;\n  transform: translate(-50%, -50%);\n  max-width: 128px;\n  max-height: 144px;\n  left: 50%;\n  top: 65%;\n"]);return dt=function(){return t},t}var mt=u.b.img(dt()),ht=n(50),bt=n.n(ht);function vt(){var t=Object(s.a)(["\n  position: absolute;\n  left: 20%;\n"]);return vt=function(){return t},t}var xt=u.b.img(vt());function wt(){var t=Object(s.a)(["\n  position: absolute;\n  right: 15%;\n  bottom: 88%;\n"]);return wt=function(){return t},t}var yt=u.b.img(wt());function Ot(){var t=Object(s.a)(["\n  position: absolute;\n  margin-top: -110px;\n  text-align: center;\n  justify-content: center;\n  transform: translate(-50%, -50%) rotate(-2deg);\n  left: 50%;\n  top: -83%;\n"]);return Ot=function(){return t},t}var jt=u.b.img(Ot());function kt(){var t=Object(s.a)(['\n  background-attachment: local;\n  letter-spacing: 3px;\n  line-height: 30px;\n  font-family: "Roboto", -apple-system, BlinkMacSystemFont, "Segoe UI", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n  color: white;\n  background-color: ',";\n  background-image: linear-gradient(\n      to right,\n      transparent 10px,\n      transparent 10px\n    ),\n    linear-gradient(to left, transparent 10px, transparent 10px),\n    repeating-linear-gradient(\n      transparent,\n      transparent 30px,\n      white 30px,\n      white 31px,\n      transparent 31px\n    );\n  width: 80%;\n  transform: translate(-50%, -50%);\n  left: 50%;\n  height: 140px;\n  padding: 8px 10px;\n  margin-top: 110px;\n  position: absolute;\n  outline: none;\n  border: none;\n  resize: none;\n"]);return kt=function(){return t},t}var Ct=u.b.textarea(kt(),(function(t){return t.theme.colors.background}));function Et(){var t=Object(s.a)(["\n  position: relative;\n"]);return Et=function(){return t},t}var St=u.b.div(Et());function It(){var t=Object(s.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  &:active {\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n\n    transform: translate(-50%, -50%) scale(0.9);\n  }\n"]);return It=function(){return t},t}var Bt=u.b.img(It()),Gt=n(51),Ft=n.n(Gt);var Tt=function(){var t=p().rootStore.colorStore,e=function(){var t=p().rootStore.colorStore;return Object(c.c)((function(){return{sweaterSVG:t.getSweaterSVG,croppedImage:t.croppedImage}}))}(),n=e.sweaterSVG,o=e.croppedImage,i=Object(a.useState)(!1),u=Object(I.a)(i,2),s=u[0],l=u[1],g=Object(a.useState)(""),f=Object(I.a)(g,2),d=f[0],m=f[1],h=Object(a.useRef)(null);return r.a.createElement("div",null,r.a.createElement(at,{type:"file",accept:"image/*",ref:h,onChange:function(e){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;n.onload=function(){t.uploadImage(n,n.height,n.width),t.getFaceDescription()},n.src=e.target.result},new bt.a(e.target.files[0],{quality:.3,success:function(t){n.readAsDataURL(t)}})}}}),r.a.createElement($,null),r.a.createElement(Q,null,r.a.createElement(ft,{src:n,onClick:function(){t.updateSweaterCode()}}),r.a.createElement(mt,{src:o||_.a,onClick:function(){h.current.click()}}),r.a.createElement(et,{className:s?"cake":"",src:Y.a,alt:"cake",onClick:function(){t.updateThemeCode(),l(!0)},onAnimationEnd:function(){l(!1)}}),r.a.createElement(xt,{src:ct.a}),r.a.createElement(yt,{src:gt.a}),o?r.a.createElement(jt,{src:st.a}):""),r.a.createElement(St,null,r.a.createElement(Ct,{placeholder:"Please type ...",value:d,onChange:function(t){m(t.target.value)}})),r.a.createElement(Bt,{src:ot.a,onClick:function(){var t=document.body;Ft.a.toBlob(t).then((function(t){!function(t){navigator.share&&navigator.share({title:"Let's share your holiday card!",text:d,url:"https://dohyungp.github.io/ugly-xmas-card",image:t,mimeType:"image/png"}).then((function(){return console.log("Successful share")})).catch((function(t){return console.log("Error sharing",t)}))}(t)})).catch((function(t){console.error("oops, something went wrong!",t)}))}}))};var zt=function(){var t=function(){var t=p().rootStore.colorStore;return Object(c.c)((function(){return{colorTheme:t.getTheme}}))}().colorTheme;return r.a.createElement(u.a,{theme:t},r.a.createElement(g,null,r.a.createElement(E.a,null,r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",component:C}),r.a.createElement(S.a,{exact:!0,path:"/create",component:Tt})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vt=n(22),Dt=n(16),Ht=n(55),Rt=n(11),Wt=(n(79),n(4)),Lt=3,Pt=8,Ut=n(24),At=n(21),Jt=n.n(At),Mt=n(14),Nt=n(56);function qt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function $t(t,e){var n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0,t.width,t.height);var a=e.landmarks?[].concat(Object(Ut.a)(e.landmarks.getJawOutline()),Object(Ut.a)(e.landmarks.getLeftEyeBrow()),Object(Ut.a)(e.landmarks.getRightEyeBrow())):[];if(0!==a.length){var r=1e4,o=1e4,i=-1e4,c=-1e4;a.forEach((function(t){t.x<r&&(r=t.x),t.y<o&&(o=t.y),t.x>i&&(i=t.x),t.y>c&&(c=t.y)}));var u=i-r,s=c-o,l=n.getContext("2d");l.save(),l.clearRect(0,0,n.width,n.height),l.lineWidth=4,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Nt(e,300,[".x",".y"]);if(t.beginPath(),a.slice(1).forEach((function(e){var n=e.x,a=e.y;t.lineTo(n,a)})),n){var r=a[a.length-1],o=a[0];if(!r||!o)return;t.moveTo(r.x,r.y),t.lineTo(o.x,o.y)}t.closePath(),t.stroke(),t.clip()}(l,a),l.drawImage(t,0,0),l.restore();var g=document.createElement("canvas"),p=g.getContext("2d");return g.width=u,g.height=s,p.drawImage(n,r,o,u,s,0,0,u,s),g.toDataURL()}}var Kt,Qt,Xt,Yt,Zt,_t,te,ee={colors:{background:"#184f33",buttonBackground:"#33f500",textColor:"#ECEFF4",buttonColor:"#1508fd"}},ne={colors:{background:"#1a1a1a",cardBackground:"#E5E9F0",buttonBackground:"#f50039",textColor:"#ffffff",buttonColor:"#ffffff"}},ae={colors:{background:"#78025d",cardBackground:"#E5E9F0",buttonBackground:"#f5d201",textColor:"#030363",buttonColor:"#030363"}},re=n(32),oe=n.n(re),ie=n(57),ce=n.n(ie),ue=n(58),se=n.n(ue),le=n(59),ge=n.n(le),pe=n(60),fe=n.n(pe),de=n(61),me=n.n(de),he=n(33),be=n.n(he),ve=n(62),xe=n.n(ve),we=n(63),ye=n.n(we),Oe=n(64),je=n.n(Oe),ke=n(65),Ce=n.n(ke),Ee=(Kt=function(){function t(e){var n=this;if(Object(Vt.a)(this,t),Object(Dt.a)(this,"themeCode",Qt,this),Object(Dt.a)(this,"sweaterCode",Xt,this),Object(Dt.a)(this,"uploadedImage",Yt,this),Object(Dt.a)(this,"croppedImage",Zt,this),Object(Dt.a)(this,"imgHeight",_t,this),Object(Dt.a)(this,"imgWidth",te,this),this.updateSweaterCode=Object(Wt.d)((function(){n.sweaterCode=(n.sweaterCode+1)%Pt,localStorage.removeItem("sweaterCode"),localStorage.setItem("sweaterCode",n.sweaterCode)})),this.updateThemeCode=Object(Wt.d)((function(){n.themeCode=(n.themeCode+1)%Lt,localStorage.removeItem("themeCode"),localStorage.setItem("themeCode",n.themeCode)})),this.uploadImage=Object(Wt.d)((function(t,e,a){n.uploadedImage=t,n.imgHeight=e,n.imgWidth=a})),this.getFaceDescription=Object(Wt.d)((function(){(function(t,e){var n,a,r,o,i,c,u=arguments;return Jt.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:512,.3,a=new Mt.a({inputSize:n,scoreThreshold:.3}),r=!0,s.next=6,Jt.a.awrap(Mt.c(t));case 6:return o=s.sent,s.next=9,Jt.a.awrap(Mt.b(o,a).withFaceLandmarks(r));case 9:if(s.t0=s.sent,s.t0){s.next=12;break}s.t0={};case 12:return i=s.t0,c=Mt.f(i,e),s.abrupt("return",c);case 15:case"end":return s.stop()}}))})(n.uploadedImage.src,{width:n.imgWidth,height:n.imgHeight}).then((function(t){n.croppedImage=$t(n.uploadedImage,t)}))})),this.rootStore=e,Jt.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:Mt.e("/ugly-xmas-card/models").then((function(){console.log("Completed loading Face model")})),Mt.d("/ugly-xmas-card/models").then((function(){console.log("Completed loading Landmark model")}));case 3:case"end":return t.stop()}})),!(this.themeCode+1)){var a=qt(0,Lt-1);this.themeCode=a,localStorage.setItem("themeCode",a)}if(!(this.sweaterCode+1)){var r=qt(0,Pt-1);this.sweaterCode=r,localStorage.setItem("sweaterCode",r)}}return Object(Ht.a)(t,[{key:"getTheme",get:function(){switch(this.themeCode){case 0:return ee;case 1:return ae;case 2:return ne;default:return ee}}},{key:"getGoButtonSVG",get:function(){switch(this.themeCode){case 0:return oe.a;case 1:return ce.a;case 2:return se.a;default:return oe.a}}},{key:"getSweaterSVG",get:function(){switch(this.sweaterCode){case 0:return be.a;case 1:return ge.a;case 2:return xe.a;case 3:return je.a;case 4:return me.a;case 5:return Ce.a;case 6:return ye.a;case 7:return fe.a;default:return be.a}}}]),t}(),Qt=Object(Rt.a)(Kt.prototype,"themeCode",[Wt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("themeCode"))}}),Xt=Object(Rt.a)(Kt.prototype,"sweaterCode",[Wt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return parseInt(localStorage.getItem("sweaterCode"))}}),Yt=Object(Rt.a)(Kt.prototype,"uploadedImage",[Wt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zt=Object(Rt.a)(Kt.prototype,"croppedImage",[Wt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=Object(Rt.a)(Kt.prototype,"imgHeight",[Wt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=Object(Rt.a)(Kt.prototype,"imgWidth",[Wt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(Rt.a)(Kt.prototype,"getTheme",[Wt.e],Object.getOwnPropertyDescriptor(Kt.prototype,"getTheme"),Kt.prototype),Object(Rt.a)(Kt.prototype,"getGoButtonSVG",[Wt.e],Object.getOwnPropertyDescriptor(Kt.prototype,"getGoButtonSVG"),Kt.prototype),Object(Rt.a)(Kt.prototype,"getSweaterSVG",[Wt.e],Object.getOwnPropertyDescriptor(Kt.prototype,"getSweaterSVG"),Kt.prototype),Kt),Se=new function t(){Object(Vt.a)(this,t),this.colorStore=new Ee(this)};i.a.render(r.a.createElement(c.b,{rootStore:Se},r.a.createElement(zt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}]),[[68,1,2]]]);
//# sourceMappingURL=main.7254a42e.chunk.js.map